<!-- SECTION -->
<div class="section">
  <!-- container -->
  <div class="container">
    <!-- row -->
    <div class="row">
      <!-- section title -->
      <div class="col-md-12">
        <div class="section-title">
          <h3 class="title">Sản phẩm</h3>
        </div>
      </div>
      <!-- /section title -->

      <!-- Products tab & slick -->
      <div class="col-md-12">
        <div class="row">
          <div class="col-md-3 col-sm-6" *ngFor="let p of products">
            <div class="card my-2 product">
              <div class="product-img">
                <img
                  [src]="p.image"
                  alt="{{ p.name }}"
                  width="200px"
                  class="card-img-top product-img"
                  (click)="selectProduct(p.id)"
                  style="cursor: pointer"
                />
                <div class="product-label">
                  <span class="sale" *ngIf="p.sale">
                    [innerHTML]="'-'+p.sale + '%'"></span
                  >
                  <span class="new" *ngIf="p.new">NEW</span>
                </div>
              </div>
              <div class="card-header bg-white card-title" style="height: 80px">
                <h6 class="product-name text-center">
                  {{ p.title | titlecase }}
                </h6>
              </div>
              <div class="card-body product-body">
                <p class="product-category">{{ p.product_category.title }}</p>
                <p
                  [innerHTML]="
                    p.short_description.length <= 40
                      ? p.short_description
                      : p.short_description.substr(0, 40) + ' ...'
                  "
                ></p>
                <h4 class="product-price">
                  {{ p.price | currency: "VND" }}
                  <del
                    class="product-old-price"
                    *ngIf="p.sale"
                    [innerHTML]="
                      _.round((p.price * p.sale) / 100, -3) | currency: 'VND'
                    "
                  ></del>
                </h4>
              </div>
              <div class="w-100 add-to-cart">
                <button
                  class="w-100 btn add-to-cart-btn"
                  [ngClass]="p.quantity < 1 ? 'add-to-cart-btn-disabled' : ''"
                  (click)="addProduct(p.id)"
                  [disabled]="p.quantity < 1"
                >
                  <i class="fa fa-shopping-cart"></i>
                  {{ p.quantity < 1 ? "HẾT HÀNG" : "CHỌN MUA" }}
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Products tab & slick -->
    </div>
    <!-- /row -->
  </div>
  <!-- /container -->
</div>
<!-- /SECTION -->
